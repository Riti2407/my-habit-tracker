<div id="ai-bot-toggle">ðŸŒ¸</div>
<div id="ai-bot-panel">
    <div id="ai-bot-header">HobbyBuddy âœ¨</div>
    <div id="ai-bot-messages"></div>
    <div class="quick-replies">
        <div class="quick-reply" data-reply="Remind me my hobbies">Remind me my hobbies</div>
        <div class="quick-reply" data-reply="Suggest a new hobby">Suggest a new hobby</div>
        <div class="quick-reply" data-reply="Motivate me">Motivate me</div>
    </div>
    <div id="ai-bot-input">
        <input placeholder="Tell me what you feel like doing..." />
        <button>âž¤</button>
    </div>
</div>

<style>
    #ai-bot-toggle {
        position: fixed; bottom: 20px; right: 20px;
        background: linear-gradient(135deg, #ffb6c1, #d8b4fe);
        color: white;
        border-radius: 50%; width: 60px; height: 60px;
        display: flex; align-items: center; justify-content: center;
        cursor: pointer; font-size: 28px; z-index: 9999;
        box-shadow: 0 6px 18px rgba(0,0,0,0.25);
        transition: transform 0.2s, background 0.3s;
    }
    #ai-bot-toggle:hover { transform: scale(1.1); background: linear-gradient(135deg, #f9a8d4, #c084fc); }

    #ai-bot-panel {
        position: fixed; bottom: 90px; right: 20px;
        width: 340px; height: 460px;
        background: #fff; border-radius: 20px;
        display: none; flex-direction: column;
        box-shadow: 0 10px 28px rgba(0,0,0,0.2);
        font-family: 'Poppins', sans-serif;
        overflow: hidden; z-index: 9999;
        animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn { from {opacity:0; transform: translateY(20px);} to {opacity:1; transform: translateY(0);} }

    #ai-bot-header {
        background: linear-gradient(135deg, #f9a8d4, #c084fc);
        color: white;
        padding: 14px; text-align: center;
        font-weight: bold; font-size: 16px;
        letter-spacing: 0.5px;
    }
    #ai-bot-messages {
        flex: 1; padding: 12px; overflow-y: auto; font-size: 14px;
        background: #fdfbff;
        display: flex; flex-direction: column;
    }
    .msg {
        max-width: 75%; padding: 9px 13px; margin: 6px 0;
        border-radius: 16px; line-height: 1.4;
        word-wrap: break-word; font-size: 14px;
    }
    .bot { background: #f3e8ff; align-self: flex-start; border: 1px solid #e9d5ff; }
    .user { background: #ffe4f1; align-self: flex-end; border: 1px solid #fecdd3; }

    #ai-bot-input {
        display: flex; border-top: 1px solid #eee; background: white;
    }
    #ai-bot-input input {
        flex: 1; border: none; padding: 12px; font-size: 14px; outline: none;
        border-radius: 0 0 0 20px;
    }
    #ai-bot-input button {
        background: linear-gradient(135deg, #f9a8d4, #c084fc);
        color: white; border: none; padding: 0 16px;
        cursor: pointer; font-size: 16px; border-radius: 0 0 20px 0;
    }

    .quick-replies {
        display: flex; flex-wrap: wrap; gap: 8px; padding: 10px;
        background: #fff; border-top: 1px solid #eee;
    }
    .quick-reply {
        background-color: #fce7f3; padding: 6px 12px; border-radius: 15px;
        font-size: 0.85rem; cursor: pointer;
        transition: all 0.2s; color: #7e22ce;
    }
    .quick-reply:hover { background-color: #fbcfe8; }
</style>

<script>
    const toggle = document.getElementById("ai-bot-toggle");
    const panel = document.getElementById("ai-bot-panel");
    const messages = document.getElementById("ai-bot-messages");
    const input = document.querySelector("#ai-bot-input input");
    const sendBtn = document.querySelector("#ai-bot-input button");
    const quickReplies = document.querySelectorAll(".quick-reply");

    function addMsg(text, from="bot"){
        const el = document.createElement("div");
        el.className = "msg " + from;
        el.innerText = text;
        messages.appendChild(el);
        messages.scrollTop = messages.scrollHeight;
    }

    async function askBot(question){
        addMsg(question, "user");
        const typingIndicator = document.createElement("div");
        typingIndicator.className = "msg bot";
        typingIndicator.id = "typing-indicator";
        typingIndicator.innerHTML = "âœ¨ Thinking...";
        messages.appendChild(typingIndicator);
        messages.scrollTop = messages.scrollHeight;
        await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 1000));
        document.getElementById("typing-indicator")?.remove();
        let response = generateResponse(question);
        addMsg(response);
    }

    function generateResponse(question) {
        question = question.toLowerCase();
        if (question.includes("hello") || question.includes("hi")) {
            return "Hii cutie ðŸŒ¸ I'm HobbyBuddy! I can remind you of your hobbies, suggest fun new ones, or give you a little motivation boost. What should we do?";
        }
        if (question.includes("remind")) {
            return "Here are your hobbies I remember: ðŸŽ¨ Drawing, ðŸ“– Reading, ðŸŽ¶ Music, ðŸŒ± Gardening. Want me to set a cute reminder for one today?";
        }
        if (question.includes("suggest") || question.includes("new")) {
            return "How about trying ðŸŒ¸ candle-making, ðŸ“· aesthetic photography walks, or ðŸµ learning some matcha recipes? Want me to suggest more based on your mood?";
        }
        if (question.includes("motivate") || question.includes("boost")) {
            return "Youâ€™ve been doing amazing ðŸŒ¼ Remember: hobbies arenâ€™t choresâ€”theyâ€™re your safe space to recharge. Letâ€™s make today fun! ðŸ’•";
        }
        return "Hehe, I might not get that yet ðŸŒ¸ But I can remind you about your hobbies, suggest new ones, or give motivation. Which one do you want?";
    }

    toggle.onclick = () => panel.style.display = panel.style.display === "flex" ? "none" : "flex";
    sendBtn.onclick = () => { if(input.value.trim()) { askBot(input.value); input.value=""; } };
    input.onkeydown = (e) => { if(e.key === "Enter" && input.value.trim()) { askBot(input.value); input.value=""; } };
    quickReplies.forEach(reply => reply.addEventListener("click", () => askBot(reply.getAttribute("data-reply"))));

    // Initial greeting
    addMsg("ðŸŒ¸ Hi there! I'm HobbyBuddy, here to make your hobbies extra fun & cute! Do you want a reminder, a new suggestion, or some motivation today?");
</script>
